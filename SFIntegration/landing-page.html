<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>Submit a Quote Request</title>
    <style>
      /* Styles for the header */
      header {
        background-color: #444; /* Lighter shade of gray */
        color: #fff; /* Light text color for contrast */
        padding: 10px 20px;
        display: flex; /* Allow for inline elements */
        justify-content: space-between; /* Space elements horizontally */
        position: fixed; /* Fix the header to the top of the page */
        top: 0;
        left: 0;
        width: 100%; /* Make the header span the entire width */
        z-index: 100; /* Ensure the header stays above the content */
      }
      nav {
        display: flex; /* Allow inline elements for spacing */
        max-width: 80%; /* Set a maximum width for the nav */
        justify-content: space-between; /* Space elements horizontally within the max-width */
      }

      h1.companyName {
        margin: 0;
        color: blueviolet; /* Remove default margin for h1 inside header */
      }

      nav a {
        color: inherit; /* Inherit text color from header */
        text-decoration: none; /* Remove underline from links */
        padding: 5px 10px;
      }

      nav a:hover {
        background-color: #222; /* Change background color on hover */
      }

      /* Rest of the body styles */
      body {
        font-family: "Open Sans", sans-serif;
        margin: 0;
        padding: 20px;
        min-height: 100vh; /* Set minimum height for full viewport */
        background-color: #f5f5f5;
      }

      h2 {
        font-size: 2em;
        margin-bottom: 10px;
        color: #212529;
        padding-top: 20px;
      }

      p {
        font-size: 1.2em;
        line-height: 1.5;
        color: #666;
        margin-bottom: 20px;
      }

      a {
        color: #333;
        text-decoration: none;
        font-weight: bold;
      }

      a:hover {
        color: #007bff;
      }
      /* Styles for the form */
      form {
        width: 50%; /* Adjust form width */
        margin: 0 auto; /* Center the form horizontally */
        padding: 20px; /* Add padding for better spacing within the form */
        border: 1px solid #ddd; /* Add a subtle border */
        border-radius: 5px; /* Add rounded corners */
      }

      label {
        display: block; /* Make labels appear on separate lines */
        margin-bottom: 5px; /* Add space between labels and inputs */
      }

      input[type="text"],
      input[type="email"],
      textarea {
        width: 100%; /* Make input fields full width */
        padding: 8px; /* Add padding for better readability */
        border: 1px solid #ccc; /* Add a light border */
        border-radius: 3px; /* Add rounded corners */
      }

      textarea {
        height: 100px; /* Set a minimum height for the textarea */
      }

      input[type="submit"] {
        background-color: #4caf50; /* Green color for submit button */
        color: white; /* White text color */
        padding: 10px 20px; /* Add padding for the button */
        border: none; /* Remove default border */
        border-radius: 5px; /* Add rounded corners */
        cursor: pointer; /* Change cursor to indicate clickability */
      }

      input[type="submit"]:hover {
        background-color: #45a049; /* Darker green on hover */
      }
    </style>
    <script>
      (function (u, n, i, v, e, r, s, a, l) {
        u[r] = {};
        u[r].uid = "2cd07bb8-6003-40e9-8709-8c329227353d";
        u[r].m = [
          "getReferrerInfo",
          "identify",
          "integrationsReady",
          "on",
          "ready",
          "track",
        ];
        u[r].queue = [];
        u[r].f = function (t) {
          return function () {
            var l = Array.prototype.slice.call(arguments);
            l.unshift(t);
            u[r].queue.push(l);
            return u[r].queue;
          };
        };
        for (var t = 0; t < u[r].m.length; t++) {
          l = u[r].m[t];
          u[r][l] = u[r].f(l);
        }
        a = n.createElement(v);
        a.src = e + "/us-" + u[r].uid + ".js";
        a.async = s;
        n.getElementsByTagName(i)[0].appendChild(a);
      })(
        window,
        document,
        "head",
        "script",
        "https://shak-snippet.zferral.com",
        "mbsy",
        true
      );
    </script>
    <script defer type="text/javascript" id="ambassador-cookie-data">
      const data = JSON.parse(localStorage.getItem('mbsy/cookie'));
      const params = new URLSearchParams(window.location.search);
  
      let short_code = null;
      let campaign_id = null;
  
      if (data) {
          short_code = data['value']['mbsy_cookie_code'];
          campaign_id = data['value']['mbsy_cookie_campaign'];
      };
  
      if (params.has('utm_medium') && params.has(utm_campaign) && params.has(utm_source)) {
          console.log("referral parameters set");
          return;
      }
      else {
          if (short_code && short_code.includes('+')) short_code.replace('+', ' ');
          if (short_code && short_code.includes('%')) short_code.replace('%', ' ');
          console.log(campaign_id, short_code, '<--- the variables');
  
          if (campaign_id && short_code) {
              if (!params.has('utm_campaign')) params.set('utm_campaign', campaign_id);
              if (campaign_id === '76883' && !params.has('utm_source')) params.set('utm_source', 'c21ambassador');
              if (campaign_id === '76388' && !params.has('utm_source')) params.set('utm_source', 'ambassador');
              if (!params.has('utm_source')) params.set('utm_source', 'ambassador2')
              if (!params.has('utm_id')) params.set('utm_id', short_code);
              if (!params.has('utm_medium')) params.set('utm_medium', 'referral');
      
              window.location.search = params.toString();
          };
      };
  </script>
  </head>

  <body>
    <header>
      <h1 class="companyName">Shak Stack</h1>
      <nav>
        <a href="#">Home</a>
        <a href="#quoteForm">Request a Quote</a>
        <a
          href="https://shaktest.zferral.com/SFIntegration/raf-test-editor.html"
          >Refer a Friend</a
        >
        <a href="https://shaktest.zferral.com/SFIntegration/contact-form.html">Contact</a>
      </nav>
    </header>

    <h2>Submit a Quote Request!</h2>
    <p>
      Enter your details below with a description of your request and someone
      will contact you shortly!
    </p>
    <form
      action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8&orgId=00DDn0000013luC"
      method="POST"
      id="quoteForm"
      name="quoteForm"
    >
      <input type="hidden" name="oid" value="00DDn0000013luC" />
      <input
        type="hidden"
        name="retURL"
        value="https://mshakarian.github.io/segment-testing/SFIntegration/thanks.html"
      />

      <!--  ----------------------------------------------------------------------  -->
      <!--  NOTE: These fields are optional debugging elements. Please uncomment    -->
      <!--  these lines if you wish to test in debug mode.                          -->
      <!--  <input type="hidden" name="debug" value=1>                              -->
      <!--  <input type="hidden" name="debugEmail"                                  -->
      <!--  value="shak@getambassador.com">                                         -->
      <!--  ----------------------------------------------------------------------  -->

      <label for="first_name">First Name</label
      ><input
        id="first_name"
        maxlength="40"
        name="first_name"
        size="20"
        type="text"
      /><br />

      <label for="last_name">Last Name</label
      ><input
        id="last_name"
        maxlength="80"
        name="last_name"
        size="20"
        type="text"
      /><br />

      <label for="email">Email</label
      ><input
        id="email"
        maxlength="80"
        name="email"
        size="20"
        type="text"
      /><br />

      <label for="company">Company</label
      ><input
        id="company"
        maxlength="40"
        name="company"
        size="20"
        type="text"
      /><br />

      <label for="city">City</label
      ><input
        id="city"
        maxlength="40"
        name="city"
        size="20"
        type="text"
      /><br />

      <label for="state">State/Province</label
      ><input
        id="state"
        maxlength="20"
        name="state"
        size="20"
        type="text"
      /><br />

      <input
        id="00NDn00000icHXz"
        maxlength="36"
        name="00NDn00000icHXz"
        size="20"
        type="hidden"
      /><br />

      <label for="description">Description of Request</label
      ><textarea name="description"></textarea><br />

      <input type="submit" name="submit" />
    </form>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const shortCode = urlParams.get("mbsy");
      if (shortCode != null) {
        referringShortCode = document.getElementById("00NDn00000icHXz");
        referringShortCode.value = shortCode;
        console.log("referring short code=" + shortCode);
      }
    </script>
  </body>
</html>
